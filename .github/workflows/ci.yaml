name: CI

on:
    pull_request:
        branches: [main]
        paths-ignore:
            - .editorconfig
            - LICENCE
            - README.md

    push:
        branches: [main]
        paths-ignore:
            - .editorconfig
            - LICENCE
            - README.md

jobs:
    analysis:
        runs-on: ubuntu-24.04
        steps:
            - uses: actions/checkout@v5
            - uses: ./.github/actions/setup-dioxus
            - name: Check with cargo-clippy
              run: cargo clippy -- -D warnings
            - name: Check with cargo-fmt
              run: cargo fmt --all --check
            - name: Check with dioxus-cli
              run: dx fmt --check
